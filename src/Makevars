# C++11 syntax used throughout
CXX_STD = CXX11

## Add these to your global Makevars if you want to build with OpenMP
## The global Makevars is located inside the home directory at `.R/Makevars`
# PKG_CXXFLAGS += $(SHLIB_OPENMP_CXXFLAGS)
# PKG_CFLAGS += $(SHLIB_OPENMP_CFLAGS)
# PKG_LIBS += $(SHLIB_OPENMP_CFLAGS)

# Access to pgc RNG header files
PKG_CPPFLAGS = -I../inst/include/

# For htslib headers:
RHTSLIB_LIBS=$(shell echo 'Rhtslib::pkgconfig("PKG_LIBS")'|\
    "${R_HOME}/bin/R" --vanilla --slave)

# Compression library and others
PKG_LIBS = -lz $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) $(RHTSLIB_LIBS)

# For portable zlib libraries
PKG_CFLAGS+=$(shell echo 'zlibbioc::pkgconfig("PKG_CFLAGS")'|\
    "${R_HOME}/bin/R" --vanilla --slave)
PKG_LIBS+=$(shell echo 'zlibbioc::pkgconfig("PKG_LIBS_static")'|\
    "${R_HOME}/bin/R" --vanilla --slave)
